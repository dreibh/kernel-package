kernel-package (6.33) frozen unstable; urgency=low

  * Make kernel-packageconfig escape single "'"s in the maintainer
    name. Now irish eyes should be smilin' again ;-). This is a bug fix,
    since it causes make-kpkg to fail for people with apostrophes in their
    names.
  * Add warning if using --revision with an official kernel source (in
    other words if ./debian/official exists). Added this also to the man
    page for make-kpkg; this apparently has been causing confudion.
  * closes: Bug#56506, Bug#56544, Bug#56632
  * Change the generated postinst for sparc kernel images to not require
    silo to be run (since it apparently does not need to be). closes: Bug#56580

 -- Manoj Srivastava <srivasta@debian.org>  Tue,  1 Feb 2000 01:49:05 -0600

kernel-package (6.32) frozen unstable; urgency=low

  * darnit. Forgot to mention frozen in the last upload. The current
    potato version is broken (a grave bug); this fixes it. This version
    also has undergone extensive testing, complete with building modules,
    and installing the results, on an i386 machine. I would consider this
    the final release for potato.
  * Fixed a minor typor "are are" --> "are" in the docs. closes: Bug#56290

 -- Manoj Srivastava <srivasta@debian.org>  Fri, 28 Jan 2000 13:26:22 -0600

kernel-package (6.31) unstable; urgency=low

  * Never release a version without a full install test. There were typos
    in 6.30 which made it not work
  * Pulled back the support for HOSTCC and CC variables in make-kpkg,
    since it caused all modules to fail. In fact, just setting CC=gcc
    causes havoc. modules tested: alsa-source, lmsensors, and
    others. Again, this is important. 

 -- Manoj Srivastava <srivasta@debian.org>  Thu, 27 Jan 2000 03:07:27 -0600

kernel-package (6.30) frozen unstable; urgency=low

  * Make sure we test for uid 0, not just root.
  * Make sure that we really support HOSTCC and CC variables Thanks go to 
    Filip Van Raemdonck <filipvr@xs4all.be> for this
  * Make sure we abort if there is a -j in MAKEFLAGS or MFLAGS
  * Actually warn if --revision is used when stamp-configure exists. I owe
    some people an apology. **This is an important fix**

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 26 Jan 2000 23:56:34 -0600

kernel-package (6.29) frozen unstable; urgency=low

  * Make sure we stop the build if removing a patch fails as well.
  * Make sure that the KDVERS var we pass to modules is the one that is
    actually used. **This is an important fix**
  * Also document ARCH_IN_NAME in the kernel-pkg.5 man page

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 26 Jan 2000 10:46:05 -0600

kernel-package (6.28) frozen unstable; urgency=high

  * Made kernel source depend on bzip2. This was a major braino, and
    created a whole slew of bugs.
    closes: Bug#52708, Bug#54308, Bug#54820, Bug#55071
  * Fixed a minor typo in the readme file. closes: Bug#55880
  * Make sure we honour the IMAGE_DESTDIR setting. closes: Bug#54871
    Thanks go to Gerrit Pape <pape@innominate.de>
  * removed a spurious istall docs -r from package prerm. closes: Bug#54123
  * Reversed fix to 47766 that was preventing kernel-package from changing
    symlinks in /. closes: Bug#54510, Bug#54667, Bug#54097, Bug#54126 
  * Removed obsolete dependency on gas, which no longer seems to exist. 
    closes: Bug#54033
  * Applied a APUS patch from Sven LUTHER <luther@dpt-info.u-strasbg.fr>,
    and made it possible to optionally ignore .config.save files. 
    closes: Bug#53010
  * Try and stop build if a patch application failed. closes: Bug#51780
  * strip spaces from the root command, which could cause
    dpkg-buildpackage to fail. closes: Bug#52272
  * We do now warn about users using the --revision flag. closes: Bug#51133
  * Add a note that we do not track Makefile, and the Flavours patch may
    not apply cleanly. closes: Bug#47731

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 26 Jan 2000 03:43:34 -0600

kernel-package (6.27) unstable; urgency=low

  * Removed mention of psdatabase from the man page, since we stopped
    updating that ages ago. closes: Bug#50965
  * Fixed include.prerm to not remove libcgi docs. closes: Bug#50226
  * Removed include.postrm, which should no longer be required. (I dobt if
    anyoe really has a /usr/src/.linux-version registry in there,
    anyway). closes: Bug#51361
  * Stop and inform the users of there is any problems with the modules
    command. closes: Bug#50513
  * Added a few more taget dependencies for the target debian. This should
    close a number of bugs. closes: Bug#47156, Bug#47503, Bug#48087, Bug#50928
  * Added a concurrency level option to kernel-package, so that the
    kernel-compile and the modules can be built with make -jN. Should
    please the SMP folks out there. closes: Bug#50480
  * Dixed the Multi-Arch document so that the patch and unpatch example
    scripts do not wipe out stamp files. Also noted that the files in the
    unpatch dir should probably be numbered in reverse order from the
    files in the patch directory, so the unpatching is done in the
    appropeiate order, All this courtesy of "David Huggins-Daines"
    <dhd@eradicator.org> closes: Bug#47228
  * The contents of /proc/hardware changed somehow between 2.0.36 and
    2.2.10, making the subarchitecture determination break on m68k
  * Determination of CONFDIR needs to be moved after
    /etc/kernel-package.cfg is read (I think that's the problem - in any
    case, this fixes the problem where make-kpkg wouldn't read the config
    file from /usr/src/kernel-patches/<arch>), These lst two courtesy of
    "David Huggins-Daines" <dhd@eradicator.org> closes: Bug#47232
  * Fixed a typo in image.postinst that was preventing the lkernel image
    from backing up older images with the same version. Thanks to the
    analysis by seh@cnw.com (Steven E. Harris). closes: Bug#47766
  * The sources are now in bzip2 format, if supported by tar at package
    build time. closes: Bug#42137
  * kernel-headers are not really arch independent. modified make-kpkg s
    that the documentation reflects the truth. Patch by Joost Kooij
    <kooij@pc47.mpn.cp.philips.com> closes: Bug#47930

 -- Manoj Srivastava <srivasta@debian.org>  Tue, 30 Nov 1999 00:15:04 -0600

kernel-package (6.26) unstable; urgency=low

  * make sure the ./debian directory exists before trying to build the
    image package. closes: Bug#47062, Bug#47054

 -- Manoj Srivastava <srivasta@debian.org>  Sun, 10 Oct 1999 15:09:29 -0500

kernel-package (6.25) unstable; urgency=high

  * Fixed stupid little typos that made the package unusable. 
    closes: Bug#46982, Bug#46986

 -- Manoj Srivastava <srivasta@debian.org>  Fri,  8 Oct 1999 23:43:11 -0500

kernel-package (6.24) unstable; urgency=low

  * updated module installation for the latest set of kernels (2.0.38,
    2.2.12, and 2.3.18, at the time of writing). closes: Bug#44959
  * use bzip2 instead of gzip for the kernel source tar ball, if tar
    supports bzip2 (falls back to gzip for older tar versions). This may
    close  Bug#42137.
  * patched rules to accomodate the official kernel packages maintainer
    (configure things only when one absolutely needs to). closes: Bug#46161
  * Removed install of LinkPolicy, since we no longer do that (we provide
    a tarball instead). closes: Bug#45090
  * The normal upload closes: Bug#45471, Bug#44483, Bug#45427
    which were fixed in the NMU
  * Moved kernel-package and all generated packages to FHS compliance. 
  * No longer unlink modules.dep. closes: Bug#46729,

 -- Manoj Srivastava <srivasta@debian.org>  Fri,  8 Oct 1999 05:40:31 -0500

kernel-package (6.23.1) unstable; urgency=low

  * NMU, as Manoj is busy with RL(ok'd by Manoj).
  * Fixed typo in rules file, which kept arch-patches from applying.
    closes: Bug#45471, Bug#44483
  * Changed location of GPL in /usr/share/kernel-package/README.
    closes: Bug#45427

 -- Adam Heath <doogie@debian.org>  Tue, 21 Sep 1999 02:34:02 -0500

kernel-package (6.23) unstable; urgency=low

  * Added a smallish patch. This patch allows kernel-package to detect
    whether it should build a sparc32 or sparc64 kernel on sparc
    architectures. This shall allow for use of the FAKE_SPARC env to
    decide which kernel to build. closes: Bug#43313

 -- Manoj Srivastava <srivasta@debian.org>  Mon, 30 Aug 1999 23:20:26 -0500

kernel-package (6.22) unstable; urgency=low

  * Removed bashims from the examples for multi-arch. Thanks to
    Gregory T. Norris <haphazard@socket.net>. closes: Bug#41691
  * Made the usage messages go to stdout rather than stdin. 
    closes: Bug#42011
  * Changed readme to stop referring to fakeroot explicitly -- so we no
    longer need to track usage. closes: Bug#42798
  * fixed typo in usage message. closes: Bug#43129
  * Added support for arch independent patches. closes: Bug#42313

 -- Manoj Srivastava <srivasta@debian.org>  Thu, 19 Aug 1999 01:55:14 -0500

kernel-package (6.21) unstable; urgency=low

  * Added documentation about potential gcc problems with the kernel
    compiles. Added a stamp-build stamp (thanks to Chris Butler
    <chrisb@sandy.force9.co.uk>). 

 -- Manoj Srivastava <srivasta@debian.org>  Thu, 15 Jul 1999 15:20:53 -0500

kernel-package (6.20) unstable; urgency=low

  * moved make-kpkg to /usr/bin. closes: Bug#39428
  * Fixed man page for makle-kpkg. closes: Bug#39233
  * Mention the fact that a broken grep can also cause strangely numberred
    packages. 
  * Fix readme, since it disaalowed hyphens, though they were acceptable
    (the version with hyphens is thought to have a debian revision). 
    closes: Bug#39397
  * Added -uc and -us options to make-kpkg to pass on to
    dpkg-buildpackage (this may be opening a can of worms -- I may have to
    implement a dpkg-buildpackage options option)
  * Added documentation for people who want to minimize the time spent as
    fake root, and who want to see the users name (not root) when they run
    uname -a. Provide a secret exra target for thos folks to use. 
  * Removed mention of link manipulation in /usr/src, since kernel-package
    no longer does that. closes: Bug#40430
  * Moved make-kpkg to /usr/bin from /usr/sbin, since building debs can
    all be done in user space. closes: Bug#39428
  * Partially moved to policy 3.0.0.0 (no /usr/doc/ move yet)
  * depends on perl5, as per new perl policy.

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 14 Jul 1999 10:24:03 -0500

kernel-package (6.19) unstable; urgency=low

  * In the postrm, change return 0 to exit 0. closes: Bug#38770
  * Humpf. ANother version checker bug (I knew there was a reason I had
    not implemented this before). closes: Bug#38771

 -- Manoj Srivastava <srivasta@debian.org>  Wed,  2 Jun 1999 17:21:04 -0500

kernel-package (6.18) unstable; urgency=low

  * Fixed the revioson checking reg exp to alos allow epochs. The check
    was added in 6.12. closes: Bug#38377
  * Documented the fact that recompilations, especially ones which change
    the revision, directly or indirectly, amy need an intervening
    make-kpkg clean. closes: Bug#38320
  * Added documentation enhancements based on feedback from Remo Badi. 

 -- Manoj Srivastava <srivasta@debian.org>  Tue,  1 Jun 1999 13:01:48 -0500

kernel-package (6.17) unstable; urgency=low

  * It would help if I actually installed the new man page.
  * Another teeny fix for powerpc sub archs

 -- Manoj Srivastava <srivasta@debian.org>  Tue, 25 May 1999 15:52:27 -0500

kernel-package (6.16) unstable; urgency=low

  * Another rules typo involving cross compilation
  * Added a kernelpackage.5 man page, which should make finding the docs
    for make-kpkg easier.

 -- Manoj Srivastava <srivasta@debian.org>  Tue, 25 May 1999 15:03:14 -0500

kernel-package (6.15) unstable; urgency=low

  * Some days you can't win. Yet another cut and paste error in powermac
    rules. 
  * closes: Bug#38078, Bug#38094

 -- Manoj Srivastava <srivasta@debian.org>  Fri, 21 May 1999 12:10:30 -0500

kernel-package (6.14) unstable; urgency=low

  * Darn it!. Used () in regexp instead of [].

 -- Manoj Srivastava <srivasta@debian.org>  Thu, 20 May 1999 23:54:53 -0500

kernel-package (6.13) unstable; urgency=low

  * Typo fixes for powerpc stuff.

 -- Manoj Srivastava <srivasta@debian.org>  Thu, 20 May 1999 11:08:51 -0500

kernel-package (6.12) unstable; urgency=low

  * Added a warning if the --revision flag is given and a stamp-configure
    file already exists, since the --revision flag has no effect. Also
    require the revision flag to only contain anlphanumerics and . and +,
    and error out if otherwise. closes: Bug#35951
  * The control file is fed $architecure, which needs be a valid arch
    string. The additional -D option to dpkg-gencontrol is needed for
    cross compilation (the default arch that dpkg-gencontrol guesses is
    not the target architecture). So dpkg-gencontrol has to be told what
    is in the control file. closes: Bug#37998

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 19 May 1999 23:56:30 -0500

kernel-package (6.11) unstable; urgency=low

  * A cut and paste error in kernel rules file was corrected. 
    closes: Bug#37877

 -- Manoj Srivastava <srivasta@debian.org>  Mon, 17 May 1999 22:30:58 -0500

kernel-package (6.10) unstable; urgency=low

  * Added new patch for flavours that works with 2.2 kernel Makefiles. 
    closes: Bug#37857

 -- Manoj Srivastava <srivasta@debian.org>  Mon, 17 May 1999 15:40:43 -0500

kernel-package (6.09) unstable; urgency=low

  * Added new changes for PowerMacs (boy do those sub archs multiply out
    there) Thanks to Hartmut Koptein <koptein@debian.org>
  * On a purge, kernel-image deletes either /vmlinuz or /v,linuz.old if it
    is a dangling symlink, after warning the user. closes: Bug#33522

 -- Manoj Srivastava <srivasta@debian.org>  Sat, 15 May 1999 11:26:37 -0500

kernel-package (6.08) unstable; urgency=low

  * Allow all lowercase subarch names for the power pc family (mostly for
    the sake of people who specif the subarch on the command line).
  * Add test and kernel arch change for ultrasparc (patch posted on the
    debian-sparc list)
  * explicitly mentioned where people can find README.modules. 
    closes: Bug#36562
  * Fix typo in rules file that would cause tar to clobber files. 
    closes: Bug#37527
  * Added patches to allow cross compiling kernels.closes: Bug#36863 

 -- Manoj Srivastava <srivasta@debian.org>  Sat, 15 May 1999 01:50:59 -0500

kernel-package (6.07) unstable; urgency=low

  * Changed ?= rules in the makefile, since there are reports that
    variables may not be getting interpolated correctly. Revert to old
    fashined syntax. closes: Bug#32770
  * Added section and priority in the genrated kernel packages, so that
    user compiled packages also have a priority. coses: Bug#32848
  * incorporated the ARM patch from Tor Slettnes. closes: Bug#33447

 -- Manoj Srivastava <srivasta@debian.org>  Mon, 22 Feb 1999 01:14:55 -0600

kernel-package (6.06.1) unstable; urgency=low

  * Changed ARM build target from `vmlinux' to `Image'.  This is required
    for 2.2.x kernels on the Corel Netwinder.

 -- Tor Slettnes <tor@slett.net>  Fri, 12 Feb 1999 19:17:32 -0800

kernel-package (6.06) unstable; urgency=low

  * Removed an extra packaging of the Documentation tree (quite
    benign). closes: BUG#32682


 -- Manoj Srivastava <srivasta@debian.org>  Mon,  1 Feb 1999 01:18:26 -0600

kernel-package (6.05) frozen unstable; urgency=high

  * This fixes a bug introduced in the previous upload to frozen, in the
    handling of the new extraversion. Most of the changes are bug fixes,
    there is no new code.
  * Tightened the reg exp for determining the extraversion to ignore
    whitespace. Use builtin strip to remove leading and trailing
    space. fixes: BUG#32457 
  * If the changelog exists, use it to guess at the debian version (this is
    merely setting the default value). If there is no changelog, the
    default is still 1.00.
  * If the .config file exists, use that to guess the subarch for intel
    platforms. 
  * Install debian/rules if it does not exist, regardless of
    stamp-configure or debian/official.  fixes: BUG# 31823.

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 27 Jan 1999 18:34:15 -0600

kernel-package (6.04) unstable; urgency=low

  * Tightened the reg exp fr determining the extraversion to ignore
    whitespace. fixes: BUG#32457 

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 27 Jan 1999 02:14:33 -0600

kernel-package (6.03) frozen unstable; urgency=high

  * This update fixes a release critical bug, and only includes bug fixes
    since the previous version in frozen, apart from making the package
    2.2.X ready (mostly EXTRAVERSION support). I strongly feel that this
    should be allowed in frozen, even in deep freeze.
  * Added an option arch_in_name to ask kernel package to embedd the sub
    architecture in the kernel image name (this reverses the default of
    always embedding the arch in the name). Note that only the image
    package _name_ is affected. fixes: BUG#31972
  * The new Power macs report themselves as Power Macintoshes rather than
    PwerMac's. Changed reg expression to allow either. fixes: BUG#32262
  * Also install NET_MISC_MODULES modules. fixes: BUG#31934, BUG#31936

 -- Manoj Srivastava <srivasta@debian.org>  Fri, 22 Jan 1999 09:29:15 -0600

kernel-package (6.02) unstable; urgency=low

  * Make kernel-doc-XXX now suggest kernel-image-=V=SA(that is, now we
    include the architecture string that kernel-image packages may
    optionally have. fixes: Bug#30291
  * The EXTRAVERSION support in the NMU fixes: BUG#31290, BUG#31331, BUG#31444
  * Added docuemntation about more variables in the makefile, namely, the
    locations of the modules, patches, and configuration files, and how
    one may modify the defaults.

 -- Manoj Srivastava <srivasta@debian.org>  Thu,  7 Jan 1999 23:28:50 -0600

kernel-package (6.01.1) unstable; urgency=low

  * NMU; adds EXTRAVERSION support for 2.2.0-preblah kernels

 -- Ben Gertzfield <che@debian.org>  Tue, 29 Dec 1998 20:02:24 -0800

kernel-package (6.01) unstable; urgency=low

  * Added support for netwinders. closes: BUG#29333
  * Modified modules support to not assume everything in /usr/src/modules
    is a directory. 

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 25 Nov 1998 01:39:43 -0600

kernel-package (5.13) frozen unstable; urgency=low

  * Fixed setting email address for modules. closes: BUG#29217
  * Made it possible to set the subarch to be different from the one one
    is on (as long as the subarch being set is a valid sub arch of the
    current architecture). This should help the ppc folks.
  * Added to the module compilation documentation by incorporating part of
    the pcmcia-source documentation. This should hopefully make compiling
    stand-alone modules easier to compile

 -- Manoj Srivastava <srivasta@debian.org>  Mon,  9 Nov 1998 18:12:23 -0600

kernel-package (5.12) unstable; urgency=low

  * Add things to the changelog file for the sub packages. Also, fix a
    trailing space problem from the rules file that affected the ppc
    folks. closes: Bug#28535

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 28 Oct 1998 13:56:59 -0600

kernel-package (5.11) frozen unstable; urgency=low

  * Fix the handling of config files.

 -- Manoj Srivastava <srivasta@debian.org>  Fri, 16 Oct 1998 13:54:35 -0500

kernel-package (5.10) frozen unstable; urgency=medium

  * Add the variable KDREV to pass the debian revision to the modules
    while compiling.
  * Added powerpc fixes from Hartmut Koptein <koptein@et-inf.fho-emden.de>
    These were needed to have things work at all.
  
 -- Manoj Srivastava <srivasta@debian.org>  Fri, 16 Oct 1998 12:37:39 -0500

kernel-package (5.09) unstable; urgency=high

  * Fixed missing / on a pattern match,. This essentially hosed
    make-kpkg. closes: Bug#27937

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 14 Oct 1998 16:29:27 -0500

kernel-package (5.08) unstable; urgency=low

  * Added documentation of the tecra kernel issue in the README. 
  * Added README.tecra as astandalone file documenting the tecra laptop
    issue. 
  * Added README.modules to document the way that addon modules may hook
    into the kernel package and be kept compiled in synchrony with new
    kernel compilations.
  * Documented the fact that Flavours should be all lower case to meet the
    strictures of the Packaging manual. closes: BUG#26843
  * Added default values to prompts in kernel-packageconfig, since the
    prompts were most unplesaing. closes: BUG#27289
  * Fixed the dir modules are installed in to honour the flavour
    setting. closes: BUG#27311
  * Fixed typo in postinst. closes: Bug#25749

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 14 Oct 1998 01:04:29 -0500

kernel-package (5.07) unstable; urgency=low

  * Make the long description for kernel-source emphasize the need to get
    bin86. 
  * Fixed a typo in the rules file that created the wrong symlink on
    sparcs. closes: BUG#26790

 -- Manoj Srivastava <srivasta@debian.org>  Thu, 17 Sep 1998 10:28:23 -0500

kernel-package (5.06) unstable; urgency=low

  * Use tweo $ signs to protect shell variable in rules. Affected m68k and
    powerpc archs.

 -- Manoj Srivastava <srivasta@debian.org>  Fri, 11 Sep 1998 12:36:15 -0500

kernel-package (5.05) unstable; urgency=low

  * Fix documentation about using the rootcmd option. closes: BUG#25566
  * fixed source postinst so it no longer expects an untarred
    /usr/src/kernel-source-VERSION directory. closes: BUG#25650, 26511
  * allow clean to work even if .config does not exist. closes: BUG#26265
  * Fix case in the name of the Flavours file. closes: BUG#26434
  * Made the images go into $(IMAGE_DESTDIR), which defaults to
    /boot. This can now be set by loadlin folks in the config file to
    whatever they wish. Also changed the postinst to not freak out when
    the image apparently goes missing. 
  * Added the support for different config files depending on architecture
    and sub arch. A set of config files for different archs are shipped in
    /usr/lib/kernel-package/Config/. This is useful for people who compile
    for several architectures.
  * Major cleanup and rewrite for mutiarchitecture support. All arch
    related stuff is catured in a section on top. There is no need to edit
    it into the kernel makeile, we can now determine subarchs ourselves. 
  * Also pass along the maintainers email address while compiling the
    modules, not just the name. 
  * Make sure that sparcs use the vmlinux file, and gzip it. This 
    closes: BUG#26199
  * Cleaned up the modules installation part. Now it conforms more closely
    to the kernel makefile, and indeed, it uses the kernel Makefile for
    the newer kernles where the module install path is modifiable using
    the new INSTALL_MOD_PATH variable.

 -- Manoj Srivastava <srivasta@debian.org>  Tue,  8 Sep 1998 14:45:30 -0500

kernel-package (5.04) unstable; urgency=low

  * Backed out of System.map changes introduced in 5.02 since the patch
    provided was fauly. reimplemented the system.map installation. This 
    closes: Bug#24845
  * Fixed the ifneq statement. Again, this was due to misapplied fixes for
    the alpha. closes: Bug#24780
  * Fixed typo in kernel image preinst. closes: Bug#24766

 -- Manoj Srivastava <srivasta@debian.org>  Thu, 23 Jul 1998 01:20:40 -0500

kernel-package (5.03) unstable; urgency=low

  * Applied numerous spelling corrections and punctuation fixes from
    Nathan E Norman <finn@midco.net>.
  * Make kernel-source packages suggest bin86, and mention in the
    description that this is only applicable to Intel architectures. 
  * Added documentation to make-kpkg, and its man page, to point to
    /usr/doc/kernel-package. I, too, have doubts about the efficacy of
    this step.
  * Tighten the regular expression that snag the kernel version and
    sublevel information. closes: BUG#24629

 -- Manoj Srivastava <srivasta@debian.org>  Fri, 17 Jul 1998 12:40:09 -0500

kernel-package (5.02) unstable; urgency=low

  * Changed the pre rm warning message while removing a image mentioned in
    the boot loader config file to be more explicit. closes: BUG#23423
  * Make sure that we do not try to install the loader docs or the
    System.map if they do not exist. closes: BUG#23800
  * use dpkg --print-installation-architecture in the post inst. 
    closes: BUG#24207
  * Added an preinst script for kernel images so that we do not overwrite
    the modules file gratuitously.
  * Added more documentation about kernel-package, as there were
    complaints that it was not advertized at all. 
  * Modified the README.headers file to reflect reality. 
  * Added a subarch option to make-kpkg for the alpha people. 
    closes: BUG#24147
  * This version should compile on the alpha as well. closes: 23143

 -- Manoj Srivastava <srivasta@debian.org>  Tue, 14 Jul 1998 16:08:00 -0500

kernel-package (5.01) unstable; urgency=low

  * Added rudimentary support for the alpha. Please note that locations of
    the image may change in the future.
  * No longer ship unpacked sources in kernel-source-VERSION
    packages. This makes sure that dpkg can handle removal gracefully, and
    people may unpack the sources where they wish.
  * Fixed typo in make-kpkg -help, closes: BUG#23276
  * Documented --flavours argument of make-kpkg, which should bring the
    man page uptodate. closes: BUG#23280
  * Doh! A dangling symlink does not return true on an -e test; a valid
    symlink does! Fixed error on logic that made dangling sym links cause
    kernel-image packages to fail. closes: BUG#23273
  * make the process not error out when there is no config.precious
    file. 

 -- Manoj Srivastava <srivasta@debian.org>  Thu, 11 Jun 1998 15:15:13 -0500

kernel-package (4.11) frozen unstable; urgency=low

  * Clarified the rootcommand usage in the error message when make-kpkg
    thinks that the rootcmd options has been invoked in vain.
  * This should also go into frozen. 

 -- Manoj Srivastava <srivasta@debian.org>  Tue, 12 May 1998 13:57:58 -0500

kernel-package (4.10) unstable; urgency=low

  * Only put libc-kheaders in the control file is asked. I think this is
    better in the long run than the solution suggested in Bug#22295. 
    closes: Bug#22295

 -- Manoj Srivastava <srivasta@debian.org>  Mon, 11 May 1998 01:56:11 -0500

kernel-package (4.09) frozen unstable; urgency=low

  * Add a missing end of line \ in the kernel rules file
  * Added make-kpkg support for kernel Flavours. Reported by Rainer
    Clasen. closes: Bug#21694
  * Added a config file option do_clean, and an env variable CLEAN_SOURCE
    to control whether the source dir is cleaned after a kernel build. 
    closes: Bug#22219

 -- Manoj Srivastava <srivasta@debian.org>  Fri,  8 May 1998 04:38:57 -0500

kernel-package (4.08) frozen unstable; urgency=low

  * Made the reboot now message mention that one should probably wait
    until after installation is finished before rebooting, since one may
    not be able to reboot before then. closes: Bug#21840
  * Fixed a syntax error in the kernel rules file. closes: Bug#21967
  * Changed all the changelog file names to changelog.Debian, as opposed
    to changelog.debian. closes: Bug#21968

 -- Manoj Srivastava <srivasta@debian.org>  Fri,  1 May 1998 14:19:45 -0500

kernel-package (4.07) frozen unstable; urgency=low

  * BUGFIX: fixed a typo in image.postinst; should be s/// not m////
  * BUGFIX: Fix typo in the powerpc patch; unneeded quotes were getting
    into the control file for the kernel-image-* packages.
  * Install a README.Debian file from the official package if it exists
    (it contains information about the patches applied, and, presumably,
    how to compile a kernel image .deb file).

 -- Manoj Srivastava <srivasta@debian.org>  Mon, 27 Apr 1998 14:24:20 -0500

kernel-package (4.06) frozen unstable; urgency=low

  * Added the libc-kheaders package.
  * Make sure that upstream sources do not stomp over the users .config
    file. However, allow the user to carry though the .config file.
  * Put a README.Debian file in the kernel-source package main directory. 
                                                              closes: Bug#21129
  * Do not use -o root when installing the .config file, so that build
    does not require root privileges.                        closes: Bug#21324
  * Added patch for powerpc stuff.                            closes: Bug#21377.
  * Ignore legal leading spaces in a fstab line. This s a bug, though not
    formally reported.
  * Added a patch that get rids of an unfulfilled dependency on LILO for
    architectures that do not have any boot loader. 

 -- Manoj Srivastava <srivasta@debian.org>  Tue, 21 Apr 1998 11:48:58 -0500

kernel-package (4.05) unstable; urgency=low

  * Fixed the long description of the kernel-* packages, which had gotten
    quite outdated. This should clear some confusion.

 -- Manoj Srivastava <srivasta@debian.org>  Wed,  1 Apr 1998 16:28:19 -0600

kernel-package (4.04) frozen unstable; urgency=low

  * Made kernel-package depend on fileutils (>= 3.16-4), since we use the
    -p flag of install, which was not added until then. closes: Bug#20427 

 -- Manoj Srivastava <srivasta@debian.org>  Mon, 30 Mar 1998 11:44:50 -0600

kernel-package (4.03) unstable; urgency=low

  * Fixed a typo which mistakenly warned about rootcmd. closes: Bug#20286
  * Added the klogd patch from Yann Dirson <ydirson@a2points.com> to the
    Flavours file, which allows klogd to not choke on non-numeric kernel
    version numbers. This is also logged as Bug 20135.

 -- Manoj Srivastava <srivasta@debian.org>  Fri, 27 Mar 1998 12:37:04 -0600

kernel-package (4.02) unstable; urgency=low

  * Added stuff for the powerpc boot loader, and fixed a few typos in the
    kernel rules file.

 -- Manoj Srivastava <srivasta@debian.org>  Thu, 19 Mar 1998 03:02:10 -0600

kernel-package (4.01) frozen unstable; urgency=low

  * In order to do cross compilation, I was asked to export a variable
    called ARCH which is set to the Debian architecture (dpkg
    --print-architecture). Unfortunately, this breaks for PowerPCs: 
    although Debian calls the architecture powerpc, the kernel knows it as
    ppc. Things get very confused. This fix is essential for PowerPC
    compilations. 

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 18 Mar 1998 01:14:04 -0600

kernel-package (4.00) unstable; urgency=high

  * Fix a thinko in lilo run that could be a security hole.

 -- Manoj Srivastava <srivasta@debian.org>  Sun, 15 Mar 1998 15:49:30 -0600

kernel-package (3.65) unstable; urgency=low

  * Rewrote /vmlinuz as symlink handling in image.postinst. This should
    correctly handle the bug. closes: Bug#19473

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 11 Mar 1998 14:02:14 -0600

kernel-package (3.64) unstable; urgency=low

  * Add a make recommendation for kernel source package as well. 
    closes: Bug#19223
  * Added a note to the Flavours document to specify a System.map file for
    klogd in /etc/init.d/syslog

 -- Manoj Srivastava <srivasta@debian.org>  Tue, 10 Mar 1998 16:06:10 -0600

kernel-package (3.63) unstable; urgency=low

  * Added a recommends to shut up lintian; however, we already depended on
    packages that depended on make, so this is a no op.

 -- Manoj Srivastava <srivasta@debian.org>  Sun,  8 Mar 1998 15:12:28 -0600

kernel-package (3.62) unstable; urgency=low

  * Mentioned rootcmd and fakeroot in the README. Mention where one need
    to be root all over too.
  * Added error message from a machine that need the --zimage option to
    the Problems file.
  * Mentioned in the rationale that the kernel image configuration files
    are kept in /boot for further reference.
  * Modified README.headers to indicate why kernel-source did not provide
    the headers required by libc6, but kernel-headers does.
  * Brought the headers README up to date.
  * Make the kernel-image suggest SILO on the sparcs rather than LILO.

    Made a series of changes for sparc architecture machines. Since the
    patches are hand installed, please test this version carefully
  
  * Added documentation for actions take for SILO
  * Created a special config.sparc for sparc machines
  * Changed the image prerm to look for and deal with silo as well as lilo
    installations
  * Major changes in image.postinst for SILO. 
  * Added loader specific variables, and passed them in to the control
    file and to the postinst scripts. Added support for config.sparc. Make
    the unpatch happen before cleaning out the debian directory. Do not
    remove the debian directory after applying the kernel patch. Make
    kernel-doc in the binary-indeo area. Let sparcs also have compressed
    kernels
  * closes: Bug#18845, Bug:18846

 -- Manoj Srivastava <srivasta@debian.org>  Thu,  5 Mar 1998 17:08:04 -0600

kernel-package (3.61) unstable; urgency=low

  * There were bugs in 3.60, which are fixed in this release. Since the
    changes since pre-3.60 are so drastic, I am including the changelog
    entry again (as most people shall not see 3.60)
  * Fixed copyright files for all generated packages. This is one lintian
    warning less to worry about
  * This is a major change in the source/header packages. In architectures
    different from i386, `kernel-headers-*' and `kernel-source-*' are
    incompatible. This also has an effect on libc6-dev, which depends on
    kernel-headers-2.0.3x | kernel-source-2.0.3x, which is only true on
    i386 architectures. One possible solution would be to make libc6-dev
    depend on kernel-headers-2.0.32, but that won't work because
    kernel-source provides kernel-headers. In fact, since kernel-headers
    are arch dependent, but kernel-source is arch: all, kernel-source-*
    should not provide kernel-header* at all. 
    
    Once kernel source stops providing kernel-header*, and libc6-dev
    depends on kernel-headers-2.0.32 and links /usr/include/{linux,asm} to
    /usr/src/kernel-headers-2.0.32 (nor /usr/src/linux-2.0.32) things
    would work again in a Multi arch compatible fashion.
  
    Hence, now kernel-source-* packages compiled with this kernel-package
    shall not provide any sort of kernel-headers. For the sake of
    backwards compatibility, /usr/src/linux-$version symlinks are still
    being provided (as people may upload newer kernels while keeping an
    older libc6-dev around, which depends on /usr/src/linux-2.0.32. 
  
    However, I have been badgered enough about this that I shall remove
    the /usr/src/linux-$version symlinks at some point. This version no
    longer registers stuff in /usr/src/.linux-versions, and is no longer
    as paranoid about /usr/src/linux; but it does not outright remove
    those files either, so as not to cause people with older kernels
    having a problem during removal.As soon as it is deemed permissible,
    we shall get less paranoid about /usr/src/linux-$version as well. 

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 18 Feb 1998 17:00:06 -0600

kernel-package (3.60) unstable; urgency=low

  * This is a major change in the source/header packages. In architectures
    different from i386, `kernel-headers-*' and `kernel-source-*' are
    incompatible. This also has an effect on libc6-dev, which depends on
    kernel-headers-2.0.3x | kernel-source-2.0.3x, which is only true on
    i386 architectures. One possible solution would be to make libc6-dev
    depend on kernel-headers-2.0.32, but that won't work because
    kernel-source provides kernel-headers. In fact, since kernel-headers
    are arch dependent, but kernel-source is arch: all, kernel-source-*
    should not provide kernel-header* at all. 
    
    Once kernel source stops providing kernel-header*, and libc6-dev
    depends on kernel-headers-2.0.32 and links /usr/include/{linux,asm} to
    /usr/src/kernel-headers-2.0.32 (nor /usr/src/linux-2.0.32) things
    would work again in a Multi arch compatible fashion.
  
    Hence, now kernel-source-* packages compiled with this kernel-package
    shall not provide any sort of kernel-headers. For the sake of
    backwards compatibility, /usr/src/linux-$version symlinks are still
    being provided (as people may upload newer kernels while keeping an
    older libc6-dev around, which depends on /usr/src/linux-2.0.32. 
  
    However, I have been badgered enough about this that I shall remove
    the /usr/src/linux-$version symlinks at some point. This version no
    longer registers stuff in /usr/src/.linux-versions, and is no longer
    as paranoid about /usr/src/linux; but it does not outright remove
    those files either, so as not to cause people with older kernels
    having a problem during removal.As soon as it is deemed permissible,
    we shall get less paranoid about /usr/src/linux-$version as well. 
  * closes: Bug#18277

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 18 Feb 1998 16:44:31 -0600

kernel-package (3.59) unstable; urgency=low

  * Fixed README to also mention libc6-dev, and to remind people that some
    of the dependencies mentioned may already be present on their
    machines. closes: Bug#18306
  * Fixed the copyright to refer to version 2 of the GPL.
  * Added the rationale, and install it in kernel-package kernel source
    packages. 

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 18 Feb 1998 01:10:54 -0600

kernel-package (3.58) unstable; urgency=low

  * Added SUBARCH, which is used to distinguish Amiga, Atari, Macintosh,
    etc. kernels for Debian/m68k, and may well be required for the alpha,
    from what I hear. Unlike the FLAVOURS variable, which affects
    everything it can lay its grubby hands on (kernel image, headers,
    source, doc package versions, and where the modules are looked for
    under /lib/modules), this only affects the naming of the kernel-image
    as the source and doc packages are architecture independent and the
    kernel-headers do not vary from one sub-architecture to the
    next. These changes are courtesy of James Troup <J.J.Troup@scm.brad.ac.uk>

 -- Manoj Srivastava <srivasta@debian.org>  Mon, 16 Feb 1998 16:47:08 -0600

kernel-package (3.57) unstable; urgency=low

  * Mention mawk as a provider of awk in the README/ closes: Bug#18156

 -- Manoj Srivastava <srivasta@debian.org>  Fri, 13 Feb 1998 13:06:19 -0600

kernel-package (3.56) unstable; urgency=low

  * Mentioned in the copyright file that the GPL and Artistic licences are
    available on the file system.
  * Ensure that the /usr/src/linux and /usr/src/linux-<version> links
    always exist, no matter what. Apparently, upgrading from
    kernel-source-2.0.32_2.0.32-1 to kernel-source-2.0.32_2.0.32-3 does
    not create /usr/src/linux-<version>, which breaks libc6-dev.
  * Toned down the language about LILO, so as not to startle new sparc users

 -- Manoj Srivastava <srivasta@debian.org>  Thu, 12 Feb 1998 21:56:50 -0600

kernel-package (3.55) unstable; urgency=low

  * Added ARCH to make called, this allows for cross compiling kernels
    (added on a request by  James Troup <J.J.Troup@scm.brad.ac.uk>)
  * Make kernel-headers arch: any, so we can indeed have different headers
    for different architectures.
  * m68k can now handle vmlinuz, so reverse that behaviour in the rules
    file. AFAIK m68k still uses zImage.
  * Improvements to /usr/doc/kernel-patch/MultiArch.gz, based on
    suggestions by James Troup <J.J.Troup@scm.brad.ac.uk>/
  * Upgraded to standards version 2.4.0.0
  * Fixed old FSF address in copyright file.
  * This fixes all known lintian warnings.

 -- Manoj Srivastava <srivasta@debian.org>  Mon,  9 Feb 1998 17:34:02 -0600

kernel-package (3.54) unstable; urgency=low

  * Fixed rootcmd typos in make-kpkg. fixes: Bug#17618
  * Re-did the Headers README file
  * Added a rationale to the LinkPolicy document. So far, it detailed
    *what* Debian did. Now, it also says *why* we do it.

 -- Manoj Srivastava <srivasta@debian.org>  Thu, 29 Jan 1998 19:13:58 -0600

kernel-package (3.53) unstable; urgency=low

  * Fixed a typo where we tried to dd /vmlinuz-2.0.32 rather than the
    correct /boot/vmlinuz-2.0.32 in image.postinst. How come this glaring
    an error has gone unreported until now?

 -- Manoj Srivastava <srivasta@debian.org>  Fri, 23 Jan 1998 14:36:34 -0600

kernel-package (3.52) unstable; urgency=low

  * Fixed Typo in kernel rules that put all modules into block (this
    is more of a thinko/cut and paste error. fixes: Bug#16697,Bug#16702
  * No longer a fatal error if there is no /vmlinuz (or
    equivalent). fixes: Bug#16899
  * Added language to the abort on /usr/src/linux not being a
    link. 
  * Documented the fact that if you re-run make-kpkg with a different
    revision number, you have to reconfigure the kernel. 
    fixes: Bug#16968
  * ignore obsolete fdformat in favour of superformat.

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 21 Jan 1998 03:27:35 -0600

kernel-package (3.51) unstable; urgency=low

  * Changed the kernel rules file not break on the sound modules of
    2.1.70+ kernels (I think it is a bug in the kernel Makefile, but this
    fix make make-kpkg handle the problem and be more robust).

 -- Manoj Srivastava <srivasta@debian.org>  Thu, 25 Dec 1997 01:30:49 -0600

kernel-package (3.50) unstable; urgency=low

  * Modified image.postinst to also cater to people on whose architecture
    the image is not called vmlinuz but something else (like vmlinux, for
    example). closes:Bug#16258
  * Fixed two minor doc typos for make-kpkg. closes:Bug#16224

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 24 Dec 1997 13:07:21 -0600

kernel-package (3.49) unstable; urgency=low

  * Made the postrms also know about the kernel version, not just the
    postinst. (Sorry). closes:Bug#15920
  * Changed include.postrm to be more careful about removing the symbolic
    link /usr/src/linux-X.Y.Z. Keep track if there is another package
    installed that could provide the link.

 -- Manoj Srivastava <srivasta@debian.org>  Sat, 13 Dec 1997 23:04:47 -0600

kernel-package (3.48) unstable; urgency=low

  * Important changes for kernel-source-* and kernel-header-* packages: now
    kernel-source-* packages also provide the exact kernel-header-* (libc6
    need only depend on kernel-header-* now.
  * The kernel-header-* and kernel-source-* packages now also maintain the
    /usr/src/linux-X.YY.ZZ links (in addition to the /usr/src/linux links)
    This is used in the libc6 package.

 -- Manoj Srivastava <srivasta@debian.org>  Sat, 13 Dec 1997 12:46:47 -0600

kernel-package (3.47) unstable; urgency=low

  * Added HAM modules to the module we know about, these were introduced
    in 2.1.70.
  * Added configure as a valid target to make-kpkg, so people can
    make sure that edits to configuration files are not stomped over by
    make-kpkg (most people can ignore this)

 -- Manoj Srivastava <srivasta@debian.org>  Tue,  9 Dec 1997 23:27:04 -0600

kernel-package (3.46) unstable; urgency=low

  * Because of new option rootcmd (for sudo and fakeroot and such), one
    can't just use -r as a shortcut for -revision (since it is now
    ambiguous). Fixed README to reflect this. closes:Bug#15016
  * Added documentation of rootcmd to the help message (make-kpkg
    -h). This, along with the above, closes:Bug#15078
  * Fixed a type in a rules command (negated test). This closes:Bug#15276 
  * Added documentation about problems with encaps to the problems file. 

 -- Manoj Srivastava <srivasta@debian.org>  Mon,  1 Dec 1997 13:54:20 -0600

kernel-package (3.45) unstable; urgency=low

  * Ignore unmounted devices while looking for a root file system. Much
    thanks to Thomas Kocourek <tko@westgac3.dragon.com> for noticing
    this. 
  * Added handling for root_cmd in the rules file. This should be set to
    `sudo' or `fakeroot' and is only used in the target buildpackage (it
    calls dpkg-buildpackage -r$root_cmd)
  * Made the rules file notice the env variable ROOT_CMD and over ride the
    site wide default.
  * Added a rootcmd option to make-kpkg and have it set the root_cmd
    variable via ROOT_CMD env variable.
  * Document all the above. closes:Bug#14539
  * Make sure that the copyright file for the kernel-doc package is not
    compressed. closes:Bug#14403,Bug#14405
  * Added internal utility kpkg-vercheck to test the validity of the
    package version.
  * Make the kernel rules file abort immediately if the version number is
    not valid, rather than have the it happen towards the end (after a
    long compile). closes:Bug#14597

 -- Manoj Srivastava <srivasta@debian.org>  Mon, 10 Nov 1997 10:37:08 -0600

kernel-package (3.44) unstable; urgency=low

  * Install the README.headers in the right place for the source
    package. closes:Bug#14552.
  * Handle the new NLS_MODULES that have appeared in the newest 2.1.6x
    kernels. closes:Bug#14527.

 -- Manoj Srivastava <srivasta@debian.org>  Wed,  5 Nov 1997 23:30:48 -0600

kernel-package (3.43) unstable; urgency=low

  * Added README.headers to the kernel-source package as well, since the
    information _is_ relevant to compiling kernels. Since kernel source
    packages have higher visibility than kernel header packages, this may
    help avoid some FAQs from being asked.
  * Expand on epoch numbers on standard kernel packages. Now the README
    file actually encourages epochs (horrors).

 -- Manoj Srivastava <srivasta@debian.org>  Sat, 25 Oct 1997 01:59:19 -0500

kernel-package (3.42) unstable; urgency=low

  * Changed image postinst not to use the obsolete -d option to
    superformat. Removed extra spaces from the exec option, so that it is
    more likely to work. Noticed by Joost Kooij <kooij@mpn.cp.philips.com>
    as BUG#14022
  * Note that the proposed two level versioning scheme fails if standard
    kernels use epochs. Further note that one may introduce epochs even in
    custom kernels. This fixes BUG#14067.

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 22 Oct 1997 02:47:22 -0500

kernel-package (3.41) unstable; urgency=low

  * Handle obsolete /System.map and /System.old links left around by older
    kernel-package packages. All the programs that look at the information
    in the map files (including top, ps, and klogd) also will look at
    /boot/System.map-<version>, we just need to ensure that that file is
    present, and no longer require the symbolic link. 
    Actually, having the symbolic link in / is technically detrimental
    (apart from cluttering up /); many programs, though looking in /boot,
    still allow /System.map to override. If you use LILO to choose between
    multiple kernels, then the /System.map symbolic link only applies to
    one such kernel, for all other choices the symbols loaded will be
    wrong. Not having the symbolic links at all prevents this. 
    Therefore, the new image.postinst file shall offer to remove the
    symbolic links in /. This should fix BUG#13359

 -- Manoj Srivastava <srivasta@debian.org>  Fri, 26 Sep 1997 10:44:39 -0500

kernel-package (3.40) unstable; urgency=low

  * Added the proposal for the new multi architecture support. Documented
    the new variable patch_the_kernel and the ENV override.  
  * Mentioned new behaviour of depmod and friends Re non .o files in
    /lib/modules in the problems file.

 -- Manoj Srivastava <srivasta@debian.org>  Thu, 18 Sep 1997 00:02:55 -0500

kernel-package (3.39) unstable; urgency=low

  * Fixed handling of modules.dep in the image.postinst. We do not attempt
    to recreate a modules.dep, since the man page admits the file so
    created may be incorrect. We warn the installer that there maybe
    problems loading modules into the kernel until reboot iff the version
    being installed is the same as the version currently running.
  * This fixes BUG#13009.

 -- Manoj Srivastava <srivasta@debian.org>  Tue, 16 Sep 1997 15:07:02 -0500

kernel-package (3.38) unstable; urgency=low

  * Mentioned other kernel source sites in the copyright file. This fixes
    BUG#11951.
  * Install files while preserving the timestamp (use install -p) 
  * This could be considered a release candidate, as long as a fixed
    dpkg-dev is also provided at the same time. This has been extensively
    tested on the authors machine, and there have been no bugs reported in
    nearly a month.

 -- Manoj Srivastava <srivasta@debian.org>  Fri, 29 Aug 1997 12:10:37 -0500

kernel-package (3.37) unstable; urgency=low

  * No longer create a System.map symlink in /, since that may confuse
    klogd when choosing kernel images using LILO. Since top, ps, and klogd
    look at /boot/System.map-<version>, we just need to make sure that
    file is present. This makes us friendlier to multiple images of the
    same kernel version.
  * No longer redirect output to a file in /tmp for security reasons (we
    use a log file in /var/log instead). This fixes BUG#11765,
    BUG#11766 and BUG#11847 
  * Added support for different flavours of the same kernel version for
    people who need them. This is based on the ideas and work of Bill
    Mitchell <mitchell@mozcom.com> and Noel Maddy <ncm@biostat.hfh.edu>.
    This should make us fully compliant to having multiple flavours of the
    same kernel version.
  * Added dependencies to targets in rules. Now things should work as
    expected if one edits a .config file. 
  * Fixed destination for the Buildinfo file. This fixes BUG#11884.

 -- Manoj Srivastava <srivasta@debian.org>  Mon,  4 Aug 1997 13:03:38 -0500

kernel-package (3.36) unstable; urgency=low

  * All kernel packages produced now list the version of kernel-package
    used in the file /usr/doc/Buildinfo. This is a bit of a Hack.
  * The image prerm will allow you to remove an running kernel image and
    hose your system. You will be warned. (under protest).
  * Added a variable to choose a no symlink option, which puts the real
    images in /vmlinuz and /vmlinuz.old, not symlinks (similarly for
    System.map). This makes it potentially less useful, since unless other
    action is taken one would have only two images on the machine at the
    time. This has been added for people who use file systems that do not
    implement symlinks.
  * Added a variable to ask for reverse symlinks, that is, vmlinuz is the
    real file, vmlinuz-2.0.30 is the link. This also restricts the system
    to two image files unless the user save a copy, added for people with
    boot on umsdos (can't see symlinks in dos mode) but who want the links
    to see what the image versions are in Linux. Mutually exclusive with
    the no symlink option. (apart from the symlinks, it is identical to
    the no symlink option). These should fix Bug#11395.
  * Fixed typo in control file for kernel-doc description. This fixes
    Bug#11568.

 -- Manoj Srivastava <srivasta@debian.org>  Tue, 29 Jul 1997 17:50:51 -0500

kernel-package (3.35) unstable; urgency=low

  * Preserve owner when copying the config file around. This fixes
    BUG#11022. 
  * Added final newline in the control file. This fixes BUG#11024.

 -- Manoj Srivastava <srivasta@debian.org>  Sun,  6 Jul 1997 22:04:22 -0500

kernel-package (3.34) unstable; urgency=low

  * Ran spell check on the README file.
  * Added a missing endif in the rules file

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 25 Jun 1997 02:32:42 -0500

kernel-package (3.33) unstable; urgency=low

  * No longer carries around an extra uncompressed kernel image, and does
    not anymore create /boot/psdatabase-X.X.XX. The psdatabase file does
    not seem to be required anymore.
  * Removed all references to psdatabase.

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 18 Jun 1997 13:13:15 -0500

kernel-package (3.32) unstable; urgency=low

  * First version to be built with cvs-buildpackage.
  * Added patches to support m68k from "Frank Neumann"
    <Frank.Neumann@Informatik.Uni-Oldenburg.DE>.
  * Added patched to support sparcs from Eric Delaunay
    <delaunay@lix.polytechnique.fr> 
  * This fixes Bug#10231.

 -- Manoj Srivastava <srivasta@debian.org>  Mon,  2 Jun 1997 18:38:57 -0500

kernel-package (3.31) unstable; urgency=low

  * Added a version number to the dependency on dpkg-dev, we now require at
    least version 1.4.0.9., since dpkg-gencontrol fails with an error:
    failure: chown new files list file: Illegal seek
    This fixes BUG#10121.
  * Added problems with older versions of dpkg-dev to the problems file.

 -- Manoj Srivastava <srivasta@debian.org>  Sun, 25 May 1997 22:33:47 -0500

kernel-package (3.30) unstable; urgency=low

  * Tested with 2.0.30 and 2.1.40.
  * Moved config to /boot, where it arguably should have gone to in the
    first place. The /boot directory contains other information pertinent
    to the kernel, such as the System.map file, and the psdatabase.  The
    information about exactly what was configured into the kernel was
    missing, and it can get quite critical on some machines.  Also, the
    config file may serve as a base for compiling the next kernel. This
    file is not really a configuration file (not when packaged as part of
    the kernel-image package), hence it does not belong in /etc (no amount
    of changing this file will have any affect on system behaviour).  

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 21 May 1997 01:44:17 -0500

kernel-package (3.29) unstable; urgency=low

  * Kernel-image and kernel-doc now suggest each other.
  * Also recognize powerpc as a synonym for ppc in determining whether
    we use zImage or bzImage by default.
  * Fixed up some typos in documentation
  * Added rules target kernel_doc. This fixes BUG#9138
  * Also install .config file under /usr/doc. This fixes BUG#9298

 -- Manoj Srivastava <srivasta@debian.org>  Fri, 2 May 1997 14:34:51 -0500

kernel-package (3.28) frozen unstable; urgency=low

  * No longer install text files in the modules directory, since depmod
    in modutils-2.1.34 fails when it finds a non-ELF file in modules
    directory. This fixes Bug#9243.

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 30 Apr 1997 15:24:51 -0500

kernel-package (3.27) frozen unstable; urgency=low

  * Really add in all the changes sent in by Herbert Xu. The changes are: 
    * Changed to source package name back to kernel-source-=V again. 
    * Changed the installs to be without -o root -g root since it is no
      longer useful as the chowns are done before the packages are built. It
      also means that if it is used in targets like stamp-configure which may
      be run by anyone it won't not generate an error.
    * Made rules file generate the control file.
    * Fixed some typos in chown commands while generating the header
      packages. 

 -- Manoj Srivastava <srivasta@debian.org>  Mon, 21 Apr 1997 15:12:19 -0500

kernel-package (3.26) frozen unstable; urgency=low

  * Made the default image for ppc architecture zImage. This fixes Bug#8696 .
  * Forgot to mention that the source package for the kernel packages
    (produced by make-kpkg buildpackage, for example) has been changed to
    not contain the kernel version as part of the name (all the deb files
    produced have not changed), so we now get kernel-image-xxx_yy_zz.deb,
    kernel-source-xxx_yy_zz.deb, and kernel-headers-xxx_yy_zz.deb, along
    with kernel-source.tar.gz and kernel-source_yy.diff.gz
  * Added config dependencies for module targets

 -- Manoj Srivastava <srivasta@debian.org>  Fri, 18 Apr 1997 00:53:24 -0500

kernel-package (3.25) frozen unstable; urgency=low

  * Added changes sent in by the kernel packages maintainer.

 -- Manoj Srivastava <srivasta@debian.org>  Sun, 13 Apr 1997 00:03:36 -0500

kernel-package (3.24) frozen unstable; urgency=medium

  * Fixed a bash 2.0 inconsistency

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 9 Apr 1997 13:33:58 -0500

kernel-package (3.23) frozen unstable; urgency=medium

  * Fixed typos in rules for generating external modules

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 9 Apr 1997 12:41:45 -0500

kernel-package (3.22) frozen unstable; urgency=medium

  * Documented constraints on the debian revision field. This is important
     enough that I am reproducing the text of the admonition here.
     The revision number (the argument supplied after the --revision flag)
     has certain constraints: it may contain only alphanumerics and the
     characters + . (full stop, and plus) and should contain a digit.
     NOTE: No hyphens allowed. (Look at Chapter 5 of the Programmers manual
     for details)

     This is because dpkg imposes an ordering on version numbers, so that
     it can tell whether packages are being up or downgraded and so that
     dselect can tell whether a package it finds available is newer than
     the one installed on the system.

 -- Manoj Srivastava <srivasta@debian.org>  Fri, 4 Apr 1997 11:48:42 -0600

kernel-package (3.21) frozen unstable; urgency=low

  * Tested source package creation for 2.1.30
  * set umask to copy the kernel source files untainted by package creators
    umask. 
  * set umask to copy the kernel header files untainted by package creators
    umask. 

 -- Manoj Srivastava <srivasta@debian.org>  Tue, 1 Apr 1997 11:04:42 -0600

kernel-package (3.20) frozen unstable; urgency=low

  * Could not reproduce BUG#8274, neither could the original reporter. I have
    made some changes in the postinst to allow leading whitespace in the
    user responses, and tested it on three different kernel-source
    versions.  I believe this bug is fixed now (I have 3 suitable boot
    floppies as evidence). 
  * image postinst no longer aborts when the user gives up on formatting a
    floppy, but now offers a choice to proceed with a preformatted floppy. 
  * Fixed spelling errors in kernel image postinst, fixing BUG#8409
  * Offer to user superformat if it exists.
  * Tested boot floppy creation.
  * Tested on 2.0.29, 2.1.29, and 2.1.30
  * Spell check the Problems file, mention setfdprm in there.
  * Mention setfdprm in postinst if fail to format floppy.
  * Fix a typo in code determining which floppy drive to use
  * Allow leading whitespace in responses
  * Added required packages to the README file.

 -- Manoj Srivastava <srivasta@debian.org>  Sun, 23 Mar 1997 22:53:13 -0600

kernel-package (3.19) unstable; urgency=low

  * Tested again on 2.1.27 kernel.
  * Added correct Handling for ipv6 modules in rules file

 -- Manoj Srivastava <srivasta@debian.org>  Sat, 1 Mar 1997 13:52:15 -0600

kernel-package (3.18) unstable; urgency=high

  * Successfully compiled a 2.1.27 kernel.
  * Made make-kpkg not look for modules directory; that directory is
    removed by a make-kpkg clean.
  * Mentioned that ncurses-dev is required for make menuconfig in the
    README file.

 -- Manoj Srivastava <srivasta@debian.org>  Sat, 22 Feb 1997 23:36:30 -0600

kernel-package (3.17) unstable; urgency=low

  * Stupid @#$%$%@! vi changed Feb to February in the changelog messing up
    gencontrol. 

 -- Manoj Srivastava <srivasta@debian.org>  Mon, 17 Feb 1997 19:29:02 -0600

kernel-package (3.16) unstable; urgency=low

  * Started compiling a list of known problems with compiling kernel images.
    This is now available as /usr/doc/kernel-package/Problems.
  * Moved to standards version 2.1.2.2.
  * Removed extra root checks in the rules file.
  * Added error messages to failed root check in the rules file.

 -- Manoj Srivastava <srivasta@debian.org>  Thu, 13 Feb 1997 14:40:41 -0600

kernel-package (3.15) unstable; urgency=low

  * Fixed kernel rules file so that one does not depend on the existence of 
    modules. This fixes BUG#6898.

 -- Manoj Srivastava <srivasta@debian.org>  Tue, 28 Jan 1997 22:15:27 -0600

kernel-package (3.14) unstable; urgency=low

  * Made image.postinst conform to standards version 2.1.2.2.

 -- Manoj Srivastava <srivasta@debian.org>  Mon, 27 Jan 1997 09:09:37 -0600

kernel-package (3.13) unstable; urgency=low

  * Silly typo in postinst (never code when sleepy).

 -- Manoj Srivastava <srivasta@debian.org>  Mon, 27 Jan 1997 00:56:48 -0600

kernel-package (3.12) unstable; urgency=low

  * Added more injunction to run make-kpkg clean regularly
  * Remove /lib/modules/$version/modules.dep if it exists.  Recreate 
    immediately with depmod -a.  This will help reinstall the same kernel
    version more than once.

 -- Manoj Srivastava <srivasta@debian.org>  Mon, 27 Jan 1997 00:38:59 -0600

kernel-package (3.11) unstable; urgency=low

  * Added suggestions for fdutils and LILO for the kernel_image package.
  * Fixed typo in include.postinst.  Fixes BUG#6692.
  * Added warnings about possible (recent?) failure to autodetect floppy
    drives if using old fdformat from miscutils while creating a boot disk.
    This addresses BUG#6037.

 -- Manoj Srivastava <srivasta@debian.org>  Mon, 20 Jan 1997 12:03:31 -0600

kernel-package (3.10) unstable; urgency=low

  * *ALERT*.  Changed how customization variables are handled. All
    variables are given reasonable (IMHO) defaults.  Then the site
    customization file /etc/kernel-pkg.conf is read in, which can
    over-ride the defaults. THEN, the environment/command line variables
    are used to over-ride the values.
  * New env variables: KPKG_MAINTAINER, KPKG_EMAIL, IMAGE_IN_BOOT,
    IMAGE_TYPE 
  * new customization variables: kimage, image_in_boot
  * Edited README to give bare bones documentation for user customizable
    vars. 
  * Added man page kernel-pkg.conf.5.
  * Normalized existing man pages according to the templates floating
    around on the list.
  * Added copyright statements to the man pages.
  * Documented changes in make-kpkg
  * Added --bzimage option to make-kpkg for completeness.
  * Added a --zimage option to make-kpkg, (with support in the rules file),
    to make a zImage kernel rather than a bzImage kernel (the default). 
    Useful for people having problems with bzImage kernels. Suggested by 
    Richard G. Roberto <richr@Bear.COM>
 -- Manoj Srivastava <srivasta@debian.org>  Tue, 7 Jan 1997 12:44:00 -0600

kernel-package (3.09) unstable; urgency=low

  * Added documentation to the effect that make-kpkg is part of
    kernel-package in various READMEs. 
  * Made the final location of vmlinuz configurable (since one may have
    it under /boot as well as /).

 -- Manoj Srivastava <srivasta@debian.org>  Thu, 2 Jan 1997 11:27:06 -0600

kernel-package (3.08) unstable; urgency=low

  * Added a man page for internal script kernel-packageconfig.  This fixes
    BUG#6304.

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 1 Jan 1997 22:02:03 -0600

kernel-package (3.07) unstable; urgency=low

  * Fixed typo in kernel image postinst script

 -- Manoj Srivastava <srivasta@debian.org>  Sun, 29 Dec 1996 23:40:31 -0600

kernel-package (3.06) unstable; urgency=low

  * Allow local configuration of the destination of all kernel related
    deb file (the default remains ..).  Now one can set it to directories
    like ../kernel-deb or /boot/archive/deb or whatever by setting the
    variable DEB_DEST in the conf file.
  * Offer user a choice about floppy drive to use. Also make it explicit
    which floppy drive is being used. This fixes BUG#6037.
  * Warn Intel users that they should get bin86 as well, if they intend
    to compile a custom kernel.  This fixes BUG#6144.

 -- Manoj Srivastava <srivasta@debian.org>  Fri, 27 Dec 1996 18:09:51 -0600

kernel-package (3.05) unstable; urgency=low

  * The package needs dpkg-gencontrol to do any work whatsoever, so it
    should depend on dpkg-dev, instead of merely recommending it.  
    This fixes BUG#6040.

 -- Manoj Srivastava <srivasta@debian.org>  Sat, 21 Dec 1996 01:54:01 -0600

kernel-package (3.04) unstable; urgency=low

  * Added dpkg (>= 1.4) to the dependencies, since older versions do
    not understand the new dpkg --build syntax.  This fixes BUG#6041
  * Fixed target modules config in kernel/rules. This fixes BUG#5836
  * Latest default kernel config file

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 27 Nov 1996 15:11:12 -0600

kernel-package (3.03) frozen unstable; urgency=medium

  * changed priority of kernel-source package to optional
  * changed priority of kernel-image package to optional
  * Recommended dpkg-dev since kernel/rules call binaries from there
    This fixes a problem that a number of people have reported on the
    lists, though it never made it as a formal bug report.

 -- Manoj Srivastava <srivasta@debian.org>  Fri, 22 Nov 1996 11:02:31 -0600

kernel-package (3.02) unstable; urgency=low

  * kernel-source-X.XX now no longer recommends bin86, since bin86 is only
    available Intel platforms.  It now merely mentions it in the
    description. 

 -- Manoj Srivastava <srivasta@debian.org>  Thu, 7 Nov 1996 22:18:15 -0600

kernel-package (3.01) unstable; urgency=low

  * Changed one last typo in postinst. This (finally) fixes Bug#4234. 
  * Also, version 3.00 fixed Bug#4500 and Bug#4624
  * kernel-source-X.XX now recommends bin86, which fixes Bug#4443
  * Added short, succinct (and potentially dangerous) instructions on
    compiling kernels at the top of the README file.  This fixes Bug#4445.

 -- Manoj Srivastava <srivasta@datasync.com>  Wed, 6 Nov 1996 23:58:35 -0600

kernel-package (3.00) unstable; urgency=medium

  * Changed the kernel-package to the new packaging schemes.
  * Removed the dist, source, and diff targets for make-kpkg, added
    binary-arch, binary-indep, and buildpackage targets.
  * Changed make-kpkg to reflect reorganization of the
    /usr/lib/kernel-package/ tree.
  * Changed Author email.
  * Removed dithering about ./debian/* in kernel sources, now make-kpkg
    looks only at /usr/lib/kernel-package/ (clears confusion about older
    versions of kernel-package).
  * Modified make-kpkg.8 to reflect changes in make-kpkg, and ran a spell
    check. 
  * Renamed debian/package.config to kernel-packageconfig, and removed
    (obsolete) references to dchanges)
  * Moved *.README to copyright.*, and changed the rules files to
    conform. 
  * Added explanation for kernel-headers-X.XX (and why we need this
    package in spite of having headers in libc5-dev)
  
 -- Manoj Srivastava <srivasta@datasync.com>  Mon, 4 Nov 1996 16:19:33 -0600

kernel-package (2.03) unstable; urgency=low

  * Fixed typo in make-kpkg man pages where it insisted that it was
    make-dpkg ;-) 
  * Made the close brackets agree with open brackets in the man page
    synopsis.   This fixes Bug#3960

 -- Manoj Srivastava <srivasta@debian.org>  

kernel-package (2.02) unstable; low

  * Made image.postinst more polite.
  * Also enabled kernel-{source,image,headers} targets in kernel.rules 
  * Changed make-kpkg to also accept the new targets.
  * Fixed typo in man page.
  * The man page says it is an administrators man page rather than a 
    programmers man page.
  * Recommended libc-dev for kernel-source and kernel-package
  * source suggests ncurses3.0-dev, tk40-dev and the description explains 
    you could use make menuconfig rather than plain old make config if you
    had these packages.
  * Fixed typo in the rules for modules in /usr/src/modules/ directory
  * Made the rules for such modules ignore errors (since they are not
    really a part of this package, error there should not halt this build
    (or so people seem to want it)
  * Look for modules in the kernel config file (or the default config file
    if the user has not supplied a config file), and only make modules and
    install them if modules have been configured in the config file. This 
    could be tested better.
  * Fixed the make-kpkg.8 man page so that it now does not seem to mandate
    a source and diff file for additional modules installed under the 
    directory /usr/src/modules/ (whether these files are produced is at
    the discretion of the maintainer of that modules package.
  * Make configure depend on stamp-configure which in turn depends on
    .config Hopefully, this will remake the image target if one changes
    the config file Hopefully, this will not cause the image target to
    build needlessly. 

 -- Manoj Srivastava <srivasta@debian.org>  

kernel-package (2.01) unstable; urgency=low

  * Changed the scripts to refer to /usr/bin/perl rather than /bin/perl.
  * Added an extended description to the image control file.
  * Added a note that the dist target requires a PGP key.
  * Fixed a typo (missing DEBDIR) in debian.rules.
  * Fixed the targets expected by make-kpkg (kernel_image rather than 
    kernel-image, etc).
  * In image.postinst, made arguments to system be a single argument if  
    the arguments contain shell meta-characters, (this way perl passes
    them to sh -c).
  * Made make-kpkg accept non floats as revision numbers, to facilitate  
    local names.
  * Fixed silly bug in makefloppy in image.postinst.
  * Fixed the extended description of the kernel-package package.
  * Updated the image postinst to install the mbr, if it exists, and to
    activate the root partition, and to not overwrite the mbr (oops).
  * Changed maintainer email address to debian.org (I'll be in a state of  
    flux soon)


 -- Manoj Srivastava <srivasta@pilgrim.umass.edu>  

Local variables:
mode: debian-changelog
End:
